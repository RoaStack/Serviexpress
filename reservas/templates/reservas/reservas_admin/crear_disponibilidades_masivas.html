{% extends "base.html" %}
{% load static %}

{% block title %}Disponibilidades masivas{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/reservas/disponibilidades_masivas.css' %}">
{% endblock %}

{% block body_class %}dashboard-body{% endblock %}
{% block main_class %}p-0 m-0 w-100{% endblock %}

{% block content %}
<div class="dm-wrapper">
  <div class="dm-overlay">

    {# üîô Bot√≥n de regreso (fuera de la card) #}
    <div class="dm-back-container">
      <a href="{% url 'usuarios:gestion_mecanicos' %}" class="dm-btn-back">
        ‚Üê Volver a gesti√≥n de mec√°nicos
      </a>
    </div>

    <div class="dm-card">

      <h1 class="dm-title">Crear disponibilidades masivas</h1>
      <p class="dm-subtitle">
        Selecciona un mec√°nico, un rango de fechas y los d√≠as de la semana
        en los que trabajar√° con los mismos horarios.
      </p>

      <form method="post" class="dm-form">
        {% csrf_token %}

        {# Fila: mec√°nico + fechas #}
        <div class="dm-row">
          <div class="dm-col">
            <label class="dm-label">{{ form.mecanico.label }}</label>
            {{ form.mecanico }}
          </div>

          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.fecha_inicio.label }}</label>
            {{ form.fecha_inicio }}
          </div>

          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.fecha_fin.label }}</label>
            {{ form.fecha_fin }}
          </div>
        </div>

        {# D√≠as de la semana #}
        <div class="dm-block">
          <label class="dm-label">{{ form.dias_semana.label }}</label>
          <div class="dm-dias-wrapper">
            {{ form.dias_semana }}
          </div>
        </div>

        {# Horas y colaci√≥n #}
        <div class="dm-row">
          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.hora_inicio.label }}</label>
            {{ form.hora_inicio }}
          </div>

          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.hora_termino.label }}</label>
            {{ form.hora_termino }}
          </div>

          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.colacion_inicio.label }}</label>
            {{ form.colacion_inicio }}
          </div>

          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.colacion_termino.label }}</label>
            {{ form.colacion_termino }}
          </div>
        </div>

        {# Duraci√≥n bloque #}
        <div class="dm-row">
          <div class="dm-col dm-col-small">
            <label class="dm-label">{{ form.duracion_bloque.label }}</label>
            {{ form.duracion_bloque }}
          </div>
        </div>

        {# Botones #}
        <div class="dm-actions">
          <button type="submit" class="dm-btn-primary">
            Crear disponibilidades
          </button>

          <a href="{% url 'reservas:gestionar_disponibilidades' %}"
             class="dm-btn-secondary">
            Editar disponibilidades
          </a>
        </div>
      </form>

    </div>

  </div>
</div>
{% endblock %}
