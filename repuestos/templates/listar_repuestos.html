{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h2>ðŸ”© Lista de Repuestos</h2>

  <a href="{% url 'repuestos:registrar_repuesto' %}" class="btn btn-success mb-3">
    âž• Nuevo Repuesto
  </a>

  {% if repuestos %}
  <!-- âœ… Mostrar tabla solo si hay repuestos -->
  <table class="table table-striped table-hover align-middle">
    <thead>
      <tr>
        <th>DescripciÃ³n</th>
        <th>Marca</th>
        <th>Precio compra</th>
        <th>Precio venta</th>
        <th>Stock</th>
        <th>LÃ­mite stock</th>
      </tr>
    </thead>
    <tbody>
      {% for repuesto in repuestos %}
      <tr class="{% if repuesto.stock <= repuesto.limite_stock %}table-warning{% endif %}">
        <td>{{ repuesto.descripcion }}</td>
        <td>{{ repuesto.marca }}</td>
        <td>${{ repuesto.precio_compra }}</td>
        <td>${{ repuesto.precio_venta }}</td>
        <td>{{ repuesto.stock }}</td>
        <td>{{ repuesto.limite_stock }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% else %}
  <!-- ðŸš« Si no hay repuestos -->
  <div class="alert alert-info mt-4 text-center" role="alert">
    <h5>ðŸ“­ No hay repuestos registrados actualmente.</h5>
    <p>Puedes agregar uno nuevo haciendo clic en el botÃ³n de arriba.</p>
  </div>
  {% endif %}
</div>
{% endblock %}
